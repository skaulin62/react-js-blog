{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"../../API/axios\";export const fetchPosts=createAsyncThunk(\"posts/fetchPosts\",async params=>{const{data}=await axios.get(\"/posts?sort=\"+params.sort+\"&filter=\"+params.filter);return data;});export const fetchTags=createAsyncThunk(\"tags/fetchTags\",async()=>{const{data}=await axios.get(\"/tags\");return data;});export const fetchRemovePost=createAsyncThunk(\"posts/fetchRemovePost\",async id=>{const{data}=await axios.delete(\"/posts/\"+id);return data;});export const fetchAddComment=createAsyncThunk(\"posts/fetchAddComment\",async params=>{const{data}=await axios.post(\"/comments\",params);return data;});export const fetchComments=createAsyncThunk(\"comments/fetchComments\",async()=>{const{data}=await axios.get(\"/comments\");return data;});const initialState={posts:{items:[],status:\"loading\"},tags:{items:[],status:\"loading\"},comments:{items:[],status:\"loading\"}};const slicePosts=createSlice({name:\"posts\",initialState,reducers:{},extraReducers:builder=>{// get posts\nbuilder.addCase(fetchPosts.fulfilled,(state,action)=>{state.posts.items=action.payload;state.posts.status=\"success\";});builder.addCase(fetchPosts.pending,(state,action)=>{state.posts.status=\"loading\";});builder.addCase(fetchPosts.rejected,(state,action)=>{state.posts.status=\"error\";});//get tags\nbuilder.addCase(fetchTags.fulfilled,(state,action)=>{state.tags.items=action.payload;state.tags.status=\"success\";});builder.addCase(fetchTags.pending,(state,action)=>{state.tags.status=\"loading\";});builder.addCase(fetchTags.rejected,(state,action)=>{state.tags.status=\"error\";});// remove post\nbuilder.addCase(fetchRemovePost.fulfilled,(state,action)=>{state.posts.items=state.posts.items.filter(item=>item._id!==action.payload._id);state.posts.status=\"success\";});builder.addCase(fetchRemovePost.pending,(state,action)=>{state.posts.status=\"loading\";});builder.addCase(fetchRemovePost.rejected,(state,action)=>{state.posts.status=\"error\";});// get comments\nbuilder.addCase(fetchComments.fulfilled,(state,action)=>{state.comments.items=action.payload;state.comments.status=\"success\";});builder.addCase(fetchComments.pending,(state,action)=>{state.comments.status=\"loading\";});builder.addCase(fetchComments.rejected,(state,action)=>{state.comments.status=\"error\";});// add comment\nbuilder.addCase(fetchAddComment.fulfilled,(state,action)=>{});builder.addCase(fetchAddComment.pending,(state,action)=>{});builder.addCase(fetchAddComment.rejected,(state,action)=>{});}});export const postsReducer=slicePosts.actions;export default slicePosts.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchPosts","params","data","get","sort","filter","fetchTags","fetchRemovePost","id","delete","fetchAddComment","post","fetchComments","initialState","posts","items","status","tags","comments","slicePosts","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","pending","rejected","item","_id","postsReducer","actions","reducer"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/fullstack/frontend/src/Redux/slices/slicePosts.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"../../API/axios\";\r\n\r\nexport const fetchPosts = createAsyncThunk(\r\n  \"posts/fetchPosts\",\r\n  async (params) => {\r\n    const { data } = await axios.get(\r\n      \"/posts?sort=\" + params.sort + \"&filter=\" + params.filter\r\n    );\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const fetchTags = createAsyncThunk(\"tags/fetchTags\", async () => {\r\n  const { data } = await axios.get(\"/tags\");\r\n\r\n  return data;\r\n});\r\n\r\nexport const fetchRemovePost = createAsyncThunk(\r\n  \"posts/fetchRemovePost\",\r\n  async (id) => {\r\n    const { data } = await axios.delete(\"/posts/\" + id);\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const fetchAddComment = createAsyncThunk(\r\n  \"posts/fetchAddComment\",\r\n  async (params) => {\r\n    const { data } = await axios.post(\"/comments\", params);\r\n\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const fetchComments = createAsyncThunk(\r\n  \"comments/fetchComments\",\r\n  async () => {\r\n    const { data } = await axios.get(\"/comments\");\r\n    return data;\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  posts: {\r\n    items: [],\r\n    status: \"loading\",\r\n  },\r\n  tags: {\r\n    items: [],\r\n    status: \"loading\",\r\n  },\r\n  comments: {\r\n    items: [],\r\n    status: \"loading\",\r\n  },\r\n};\r\n\r\nconst slicePosts = createSlice({\r\n  name: \"posts\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    // get posts\r\n    builder.addCase(fetchPosts.fulfilled, (state, action) => {\r\n      state.posts.items = action.payload;\r\n      state.posts.status = \"success\";\r\n    });\r\n    builder.addCase(fetchPosts.pending, (state, action) => {\r\n      state.posts.status = \"loading\";\r\n    });\r\n    builder.addCase(fetchPosts.rejected, (state, action) => {\r\n      state.posts.status = \"error\";\r\n    });\r\n    //get tags\r\n    builder.addCase(fetchTags.fulfilled, (state, action) => {\r\n      state.tags.items = action.payload;\r\n      state.tags.status = \"success\";\r\n    });\r\n    builder.addCase(fetchTags.pending, (state, action) => {\r\n      state.tags.status = \"loading\";\r\n    });\r\n    builder.addCase(fetchTags.rejected, (state, action) => {\r\n      state.tags.status = \"error\";\r\n    });\r\n    // remove post\r\n    builder.addCase(fetchRemovePost.fulfilled, (state, action) => {\r\n      state.posts.items = state.posts.items.filter(\r\n        (item) => item._id !== action.payload._id\r\n      );\r\n      state.posts.status = \"success\";\r\n    });\r\n    builder.addCase(fetchRemovePost.pending, (state, action) => {\r\n      state.posts.status = \"loading\";\r\n    });\r\n    builder.addCase(fetchRemovePost.rejected, (state, action) => {\r\n      state.posts.status = \"error\";\r\n    });\r\n    // get comments\r\n    builder.addCase(fetchComments.fulfilled, (state, action) => {\r\n      state.comments.items = action.payload;\r\n      state.comments.status = \"success\";\r\n    });\r\n    builder.addCase(fetchComments.pending, (state, action) => {\r\n      state.comments.status = \"loading\";\r\n    });\r\n    builder.addCase(fetchComments.rejected, (state, action) => {\r\n      state.comments.status = \"error\";\r\n    });\r\n\r\n    // add comment\r\n    builder.addCase(fetchAddComment.fulfilled, (state, action) => {});\r\n    builder.addCase(fetchAddComment.pending, (state, action) => {});\r\n    builder.addCase(fetchAddComment.rejected, (state, action) => {});\r\n  },\r\n});\r\n\r\nexport const postsReducer = slicePosts.actions;\r\n\r\nexport default slicePosts.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}