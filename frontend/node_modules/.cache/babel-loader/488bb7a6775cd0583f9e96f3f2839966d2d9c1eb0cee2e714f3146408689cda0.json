{"ast":null,"code":"import React from\"react\";import styles from\"./Registration.module.scss\";import CustomInput from\"../../components/UI/Input/CustomInput\";import{Formik}from\"formik\";import{useDispatch,useSelector}from\"react-redux\";import{Navigate}from\"react-router-dom\";import{fetchUserRegister,selectIsAuth}from\"../../Redux/slices/sliceAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Registration=()=>{const dispatch=useDispatch();const isAuth=useSelector(selectIsAuth);if(isAuth){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.registration,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{email:\"\",password:\"\",name:\"\",lastName:\"\"},validate:values=>{const errors={};if(!values.email){errors.email=\"Email is required\";}else{if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email=\"Invalid email address\";}}if(!values.name){errors.name=\"Name is required\";}else{if(values.name.length<5){errors.name=\"The Name must be at least 5.\";}}if(!values.lastName){errors.lastName=\"LastName is required\";}else{if(values.lastName.length<5){errors.lastName=\"The Lastname must be at least 5.\";}}if(!values.password){errors.password=\"Password is required\";}else{if(values.password.length<5){errors.password=\"The password must be at least 5.\";}}return errors;},onSubmit:async(values,_ref)=>{let{setSubmitting}=_ref;const data=await dispatch(fetchUserRegister({email:values.email,fullName:values.name+\" \"+values.lastName,password:values.password}));if(!(data!==null&&data!==void 0&&data.payload)){return alert(\"Something is wrong, sorry, try again\");}},children:_ref2=>{let{values,errors,handleChange,handleSubmit}=_ref2;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.form,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.avatar,children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/avatar-icon.webp\",alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(CustomInput,{type:\"text\",name:\"email\",value:values.email,helperText:errors.email,onChange:handleChange,error:Boolean(errors.email),placeholder:\"email\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(CustomInput,{type:\"text\",placeholder:\"name\",name:\"name\",helperText:errors.name,value:values.name,onChange:handleChange,error:Boolean(errors.name)}),/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(CustomInput,{type:\"text\",placeholder:\"lastname\",name:\"lastName\",helperText:errors.lastName,value:values.lastName,onChange:handleChange,error:Boolean(errors.lastName)}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(CustomInput,{type:\"password\",placeholder:\"password\",name:\"password\",helperText:errors.password,value:values.password,onChange:handleChange,error:Boolean(errors.password)}),/*#__PURE__*/_jsx(\"button\",{style:{fontSize:\"18px\",marginTop:\"30px\"},type:\"submit\",className:\"button\",children:\"Sign Up\"})]});}})]});};export default Registration;","map":{"version":3,"names":["React","styles","CustomInput","Formik","useDispatch","useSelector","Navigate","fetchUserRegister","selectIsAuth","jsx","_jsx","jsxs","_jsxs","Registration","dispatch","isAuth","to","className","registration","children","initialValues","email","password","name","lastName","validate","values","errors","test","length","onSubmit","_ref","setSubmitting","data","fullName","payload","alert","_ref2","handleChange","handleSubmit","form","avatar","src","alt","type","value","helperText","onChange","error","Boolean","placeholder","style","fontSize","marginTop"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/fullstack/frontend/src/pages/Registration/Registration.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./Registration.module.scss\";\r\nimport CustomInput from \"../../components/UI/Input/CustomInput\";\r\nimport { Formik } from \"formik\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { fetchUserRegister, selectIsAuth } from \"../../Redux/slices/sliceAuth\";\r\nconst Registration = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isAuth = useSelector(selectIsAuth);\r\n  if (isAuth) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n  return (\r\n    <div className={styles.registration}>\r\n      <h2>Sign Up</h2>\r\n      <Formik\r\n        initialValues={{\r\n          email: \"\",\r\n          password: \"\",\r\n          name: \"\",\r\n          lastName: \"\",\r\n        }}\r\n        validate={(values) => {\r\n          const errors = {};\r\n          if (!values.email) {\r\n            errors.email = \"Email is required\";\r\n          } else {\r\n            if (\r\n              !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n            ) {\r\n              errors.email = \"Invalid email address\";\r\n            }\r\n          }\r\n          if (!values.name) {\r\n            errors.name = \"Name is required\";\r\n          } else {\r\n            if (values.name.length < 5) {\r\n              errors.name = \"The Name must be at least 5.\";\r\n            }\r\n          }\r\n\r\n          if (!values.lastName) {\r\n            errors.lastName = \"LastName is required\";\r\n          } else {\r\n            if (values.lastName.length < 5) {\r\n              errors.lastName = \"The Lastname must be at least 5.\";\r\n            }\r\n          }\r\n\r\n          if (!values.password) {\r\n            errors.password = \"Password is required\";\r\n          } else {\r\n            if (values.password.length < 5) {\r\n              errors.password = \"The password must be at least 5.\";\r\n            }\r\n          }\r\n\r\n          return errors;\r\n        }}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          const data = await dispatch(\r\n            fetchUserRegister({\r\n              email: values.email,\r\n              fullName: values.name + \" \" + values.lastName,\r\n              password: values.password,\r\n            })\r\n          );\r\n          if (!data?.payload) {\r\n            return alert(\"Something is wrong, sorry, try again\");\r\n          }\r\n        }}\r\n      >\r\n        {({ values, errors, handleChange, handleSubmit }) => (\r\n          <form onSubmit={handleSubmit} className={styles.form}>\r\n            <div className={styles.avatar}>\r\n              <img src=\"assets/images/avatar-icon.webp\" alt=\"avatar\" />\r\n            </div>\r\n            <label>Email</label>\r\n            <CustomInput\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={values.email}\r\n              helperText={errors.email}\r\n              onChange={handleChange}\r\n              error={Boolean(errors.email)}\r\n              placeholder=\"email\"\r\n            />\r\n            <label>Name</label>\r\n            <CustomInput\r\n              type=\"text\"\r\n              placeholder=\"name\"\r\n              name=\"name\"\r\n              helperText={errors.name}\r\n              value={values.name}\r\n              onChange={handleChange}\r\n              error={Boolean(errors.name)}\r\n            />\r\n            <label>Last Name</label>\r\n            <CustomInput\r\n              type=\"text\"\r\n              placeholder=\"lastname\"\r\n              name=\"lastName\"\r\n              helperText={errors.lastName}\r\n              value={values.lastName}\r\n              onChange={handleChange}\r\n              error={Boolean(errors.lastName)}\r\n            />\r\n\r\n            <label>Password</label>\r\n            <CustomInput\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              name=\"password\"\r\n              helperText={errors.password}\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              error={Boolean(errors.password)}\r\n            />\r\n            <button\r\n              style={{ fontSize: \"18px\", marginTop: \"30px\" }}\r\n              type=\"submit\"\r\n              className=\"button\"\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}