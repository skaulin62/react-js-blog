{"ast":null,"code":"import React from\"react\";import CustomLoader from\"../Loader/CustomLoader\";import PostSkeleton from\"./PostSkeleton\";import{Link}from\"react-router-dom\";import{fetchRemovePost}from\"../../Redux/slices/slicePosts\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Post=_ref=>{let{item,isOwner}=_ref;const{_id,title,tags,viewsCount,countComments,user,imageUrl,createdAt}=item;const dispatch=useDispatch();const onClickRemovePost=async()=>{if(window.confirm(\"Do you really want to remove post?\")){const data=await dispatch(fetchRemovePost(_id));console.log(data);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[isOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"post__editor\",children:[/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(_id,\"/editor\"),children:/*#__PURE__*/_jsx(\"button\",{children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickRemovePost,children:\"Delete\"})]}),imageUrl&&/*#__PURE__*/_jsx(\"img\",{className:\"post__image\",src:imageUrl!==null&&imageUrl!==void 0&&imageUrl.includes(\"/uploads/\")?\"\".concat(process.env.REACT_APP_API_URL).concat(imageUrl):imageUrl}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post__user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"post__user-photo-overflow\",children:/*#__PURE__*/_jsx(\"img\",{src:user.avatarUrl})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__pseudo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:user.fullName.split(\" \")[0]}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:createdAt})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__post-info\",children:[/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(_id),children:/*#__PURE__*/_jsx(\"h2\",{children:title})}),/*#__PURE__*/_jsx(\"p\",{className:\"post__tags\",children:tags.map((tag,index)=>/*#__PURE__*/_jsxs(\"span\",{children:[\"#\",tag,\" \"]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"post__metadata\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{width:20,height:20,src:\"assets/images/show.png\",alt:\"views\"}),viewsCount]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",x:\"0px\",y:\"0px\",width:\"20\",height:\"20\",viewBox:\"0 0 50 50\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M 25 4.0625 C 12.414063 4.0625 2.0625 12.925781 2.0625 24 C 2.0625 30.425781 5.625 36.09375 11 39.71875 C 10.992188 39.933594 11 40.265625 10.71875 41.3125 C 10.371094 42.605469 9.683594 44.4375 8.25 46.46875 L 7.21875 47.90625 L 9 47.9375 C 15.175781 47.964844 18.753906 43.90625 19.3125 43.25 C 21.136719 43.65625 23.035156 43.9375 25 43.9375 C 37.582031 43.9375 47.9375 35.074219 47.9375 24 C 47.9375 12.925781 37.582031 4.0625 25 4.0625 Z M 25 5.9375 C 36.714844 5.9375 46.0625 14.089844 46.0625 24 C 46.0625 33.910156 36.714844 42.0625 25 42.0625 C 22.996094 42.0625 21.050781 41.820313 19.21875 41.375 L 18.65625 41.25 L 18.28125 41.71875 C 18.28125 41.71875 15.390625 44.976563 10.78125 45.75 C 11.613281 44.257813 12.246094 42.871094 12.53125 41.8125 C 12.929688 40.332031 12.9375 39.3125 12.9375 39.3125 L 12.9375 38.8125 L 12.5 38.53125 C 7.273438 35.21875 3.9375 29.941406 3.9375 24 C 3.9375 14.089844 13.28125 5.9375 25 5.9375 Z\"})}),countComments]})]})]})]})]});};export default Post;","map":{"version":3,"names":["React","CustomLoader","PostSkeleton","Link","fetchRemovePost","useDispatch","jsx","_jsx","jsxs","_jsxs","Post","_ref","item","isOwner","_id","title","tags","viewsCount","countComments","user","imageUrl","createdAt","dispatch","onClickRemovePost","window","confirm","data","console","log","className","children","to","concat","onClick","src","includes","process","env","REACT_APP_API_URL","avatarUrl","fullName","split","map","tag","index","width","height","alt","xmlns","x","y","viewBox","d"],"sources":["C:/Users/skaullin62/Desktop/ReactAppsTS/fullstack/frontend/src/components/Post/Post.jsx"],"sourcesContent":["import React from \"react\";\r\nimport CustomLoader from \"../Loader/CustomLoader\";\r\nimport PostSkeleton from \"./PostSkeleton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchRemovePost } from \"../../Redux/slices/slicePosts\";\r\nimport { useDispatch } from \"react-redux\";\r\nconst Post = ({ item, isOwner }) => {\r\n  const {\r\n    _id,\r\n    title,\r\n    tags,\r\n    viewsCount,\r\n    countComments,\r\n    user,\r\n    imageUrl,\r\n    createdAt,\r\n  } = item;\r\n  const dispatch = useDispatch();\r\n  const onClickRemovePost = async () => {\r\n    if (window.confirm(\"Do you really want to remove post?\")) {\r\n      const data = await dispatch(fetchRemovePost(_id));\r\n      console.log(data);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"post\">\r\n      {isOwner && (\r\n        <div className=\"post__editor\">\r\n          <Link to={`/post/${_id}/editor`}>\r\n            <button>Edit</button>\r\n          </Link>\r\n          <button onClick={onClickRemovePost}>Delete</button>\r\n        </div>\r\n      )}\r\n      {imageUrl && (\r\n        <img\r\n          className=\"post__image\"\r\n          src={\r\n            imageUrl?.includes(\"/uploads/\")\r\n              ? `${process.env.REACT_APP_API_URL}${imageUrl}`\r\n              : imageUrl\r\n          }\r\n        />\r\n      )}\r\n      <div className=\"post__info\">\r\n        <div className=\"post__user-info\">\r\n          <div className=\"post__user-photo-overflow\">\r\n            <img src={user.avatarUrl} />\r\n          </div>\r\n          <div className=\"post__pseudo\">\r\n            <span className=\"username\">{user.fullName.split(\" \")[0]}</span>\r\n            <span className=\"date\">{createdAt}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"post__post-info\">\r\n          <Link to={`/post/${_id}`}>\r\n            <h2>{title}</h2>\r\n          </Link>\r\n          <p className=\"post__tags\">\r\n            {tags.map((tag, index) => (\r\n              <span key={index}>#{tag} </span>\r\n            ))}\r\n          </p>\r\n\r\n          <div className=\"post__metadata\">\r\n            <div>\r\n              <img\r\n                width={20}\r\n                height={20}\r\n                src=\"assets/images/show.png\"\r\n                alt=\"views\"\r\n              />\r\n              {viewsCount}\r\n            </div>\r\n            <div>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                width=\"20\"\r\n                height=\"20\"\r\n                viewBox=\"0 0 50 50\"\r\n              >\r\n                <path d=\"M 25 4.0625 C 12.414063 4.0625 2.0625 12.925781 2.0625 24 C 2.0625 30.425781 5.625 36.09375 11 39.71875 C 10.992188 39.933594 11 40.265625 10.71875 41.3125 C 10.371094 42.605469 9.683594 44.4375 8.25 46.46875 L 7.21875 47.90625 L 9 47.9375 C 15.175781 47.964844 18.753906 43.90625 19.3125 43.25 C 21.136719 43.65625 23.035156 43.9375 25 43.9375 C 37.582031 43.9375 47.9375 35.074219 47.9375 24 C 47.9375 12.925781 37.582031 4.0625 25 4.0625 Z M 25 5.9375 C 36.714844 5.9375 46.0625 14.089844 46.0625 24 C 46.0625 33.910156 36.714844 42.0625 25 42.0625 C 22.996094 42.0625 21.050781 41.820313 19.21875 41.375 L 18.65625 41.25 L 18.28125 41.71875 C 18.28125 41.71875 15.390625 44.976563 10.78125 45.75 C 11.613281 44.257813 12.246094 42.871094 12.53125 41.8125 C 12.929688 40.332031 12.9375 39.3125 12.9375 39.3125 L 12.9375 38.8125 L 12.5 38.53125 C 7.273438 35.21875 3.9375 29.941406 3.9375 24 C 3.9375 14.089844 13.28125 5.9375 25 5.9375 Z\"></path>\r\n              </svg>\r\n              {countComments}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}